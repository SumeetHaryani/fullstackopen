{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","services/phone.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","Person","props","console","log","persons","map","person","key","name","number","onClick","handleDelete","id","PersonForm","onSubmit","type","baseUrl","axios","get","then","response","data","post","put","delete","Notification","message","style","startsWith","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setNewFilter","errorMessage","setErrorMessage","useEffect","phoneService","initialPersons","personsListToShow","toLowerCase","includes","event","target","preventDefault","res","arr","unique","length","obj","checkUniqueName","returnedPerson","concat","setTimeout","window","confirm","personObject","Number","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.97c82058.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({value,onChange}) => {\n  return (\n    <div>\n      Filter shown with <input value={value} onChange={onChange} />\n    </div>\n  );\n};\nexport default Filter;\n","import React from 'react';\n\nconst Person = (props) => {\n  console.log(\"Person -> props\", props)\n  return props.persons.map(person => (\n    <p key={person.name}>\n      {person.name}&nbsp;\n      {person.number}\n      <button onClick={()=>props.handleDelete(person.id,person.name)}>delete</button>\n    </p>\n  ));\n};\nexport default Person;\n","import React from 'react';\nconst PersonForm = ({ onSubmit, name, number }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={name.value} onChange={name.onChange} />\n      </div>\n      <div>\n        number:\n        <input type='number' value={number.value} onChange={number.onChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (person) => {\n  const request = axios.post(baseUrl, person);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response);\n};\n\nexport default { getAll, create, update ,deletePerson};\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  let style = 'error';\n  if (message.startsWith('Added')) {\n    style = 'add';\n  }\n  if (message === '') {\n    style = '';\n    return null;\n  }\n\n  return <div className={style}>{message}</div>;\n};\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport phoneService from './services/phone';\nimport Notification from './components/Notification';\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setNewFilter] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    phoneService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n  const checkUniqueName = () => {\n    const arr = persons.filter((person) => person.name === newName);\n    return { unique: arr.length > 0 ? false : true, obj: arr[0] };\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const res = checkUniqueName();\n    if (!res.unique || newName.length === 0) {\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (result) {\n        const personObject = { ...res.obj, number: newNumber };\n        const id = personObject.id;\n        phoneService.update(id, personObject).then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== id ? person : returnedPerson\n            )\n          );\n        });\n      }\n    } else {\n      const personObject = { name: newName, number: newNumber };\n      phoneService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n        setErrorMessage(`Added ${returnedPerson.name}`);\n        setTimeout(() => {\n          setErrorMessage('')\n        }, 5000)\n      });\n    }\n  };\n\n  const deletePerson = (id, name) => {\n    //console.log(\"deletePerson -> id\", id)\n    const result = window.confirm(`Delete ${name} ?`);\n    if (result) {\n      phoneService\n        .deletePerson(id)\n        .then(() => setPersons(persons.filter((person) => person.id !== Number(id))))\n        .catch((error) =>{\n          setErrorMessage(\n            `Information of ${name} has been already removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage('')\n          }, 5000)}\n        );\n    }\n  };\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n  const personsListToShow =\n    filter === ''\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h1>Add a new </h1>\n      <PersonForm\n        onSubmit={addPerson}\n        name={{ value: newName, onChange: handleNameChange }}\n        number={{ value: newNumber, onChange: handleNumberChange }}\n      />\n      <h2>Numbers</h2>\n      <Person persons={personsListToShow} handleDelete={deletePerson} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}